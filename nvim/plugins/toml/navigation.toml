[[plugins]]
repo = 'Shougo/defx.nvim'
if = 'has("python3")'
on_cmd = 'Defx'
hook_add = '''
nnoremap <silent><Leader>f
      \ :<C-u>Defx -columns=git:mark:filename:type
      \ -listed `expand('%:p:h')` -search=`expand('%:p')`<CR>
'''
hook_source = '''
exec 'source' g:config_dir . 'plugins/defx.rc.vim'
'''

[[plugins]]
repo ='kristijanhusak/defx-git'
on_source = 'defx.nvim'
on_map = [
  '<Plug>(defx-git-prev)',
  '<Plug>(defx-git-next)',
  '<Plug>(defx-git-stage)',
  '<Plug>(defx-git-reset)',
  '<Plug>(defx-git-discard)',
]
hook_source = '''
" Status icons
call defx#custom#column('git', 'indicators', {
      \ 'Modified'  : '✹',
      \ 'Staged'    : '✚',
      \ 'Untracked' : '✭',
      \ 'Renamed'   : '➜',
      \ 'Unmerged'  : '=',
      \ 'Ignored'   : '.',
      \ 'Deleted'   : '✖',
      \ 'Unknown'   : '?'
      \ })
call defx#custom#column('git', 'column_length', 1)
call defx#custom#column('git', 'show_ignored', 0)
call defx#custom#column('git', 'raw_mode', 0)
'''

[[plugins]]
repo = 'Shougo/denite.nvim'
if = 'has("python3")'
depends = ['fruzzy', 'neomru.vim', 'neoyank.vim']
on_cmd = ['Denite', 'DeniteBufferDir', 'DeniteProjectDir', 'DeniteCursorWord']
hook_add = '''
nnoremap [denite] <Nop>
nmap <Leader>u [denite]
noremap [denite]f :DeniteBufferDir -start-filter -no-empty file/rec<CR>
noremap [denite]m :Denite -start-filter -no-empty file_mru<CR>
noremap [denite]g :DeniteBufferDir -start-filter -no-empty grep<CR>
noremap [denite]y :Denite -start-filter -no-empty neoyank<CR>
'''
hook_post_source = '''
execute 'source' g:config_dir . 'plugins/denite.rc.vim'
'''

[[plugins]]
repo = 'Shougo/neomru.vim'

[[plugins]]
repo = 'Shougo/neoyank.vim'

[[plugins]]
repo = 'raghur/fruzzy'
on_func = 'fruzzy#install'
hook_source = '''
let g:fruzzy#usenative = 0
'''

[[plugins]]
repo = 'rhysd/clever-f.vim'
on_map = [
  '<Plug>(clever-f-',
  'c', 'd',
]
hook_add = '''
map f <Plug>(clever-f-f)
map F <Plug>(clever-f-F)
map t <Plug>(clever-f-t)
map T <Plug>(clever-f-T)
'''
hook_source = '''
let g:clever_f_fix_key_direction = 0
'''

[[plugins]]
repo = 'haya14busa/incsearch.vim'
on_map = '<Plug>(incsearch-'
hook_add = '''
map / <Plug>(incsearch-forward)
map ? <Plug>(incsearch-backward)
map g/ <Plug>(incsearch-stay)

map n  <Plug>(incsearch-nohl-n)
map N  <Plug>(incsearch-nohl-N)
map *  <Plug>(incsearch-nohl-*)
map #  <Plug>(incsearch-nohl-#)
map g* <Plug>(incsearch-nohl-g*)
map g# <Plug>(incsearch-nohl-g#)
'''

hook_source = '''
let g:incsearch#auto_nohlsearch = 1
'''

[[plugins]]
repo = 'justinmk/vim-sneak'
depends = 'tpope/vim-repeat'
on_map = ['s', 'S']
hook_source = '''
let g:sneak#s_next = 1
'''

[[plugins]]
repo = 'tweekmonster/braceless.vim'
on_ft = ['python', 'yaml']
hook_source = '''
autocmd FileType python,yaml BracelessEnable +indent
'''
