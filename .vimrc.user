"set noswapfile      " No swap files
set backup          " We all know backing up is important
set tabstop=4		" An indentation level every four columns
set expandtab		" Convert all tabs typed into spaces
set shiftwidth=4	" Indent/outdent by four columns
set shiftround		" Always indent/outdent to the nearest tabstop
set textwidth=78    " Maximum width of text
set number
set wildmode=longest,list
set foldenable
set foldmethod=marker

set viewoptions=folds
set hlsearch
set encoding=utf-8
set fileencodings=ucs-bom,utf-8,iso-2022-jp,sjis,cp932,euc-jp,cp20932,guess
set backspace=indent,eol,start
" Reset hilight search by pressing Escape 2 times
nnoremap <silent> <ESC><ESC> :nohlsearch<CR>
let mapleader=","   " Sets mapleader to ,

set splitright      " split to the right
set splitbelow      " split below

" Use modeline
set modeline

" Create backup dir if it doesn't exist
if !isdirectory(expand('~/.vim/backup/'))
    call mkdir(expand("~/.vim/backup/"))
endif
set backupdir=~/.vim/backup/

" Set viewdir to be ~/Dropbox/vim/view/
if isdirectory(expand('~/Dropbox/vim/view/'))
    set viewdir=~/Dropbox/vim/view/
else
    if !isdirectory(expand('~/.vim/view/'))
        call mkdir(expand("~/.vim/view/"))
    endif

    set viewdir=~/.vim/view/
endif

nnoremap <silent> <Leader>mkv :mkview!<CR>
nnoremap <silent> <Leader>lv :loadview<CR>

" Set filetypes to not save/load the view
let no_view = ['gitcommit']
if expand('%') != '' && &buftype !~ 'nofile' && index(no_view, &filetype) == -1
    autocmd BufWinLeave *.* mkview!
endif

if expand('%') != '' && &buftype !~ 'nofile' && index(no_view, &filetype) == -1
    autocmd BufWinEnter *.* silent loadview
endif


" Set textwidth 0 when using text files
autocmd FileType text,vimshell set textwidth=0

" Set shiftwidth to 2 for particular files
autocmd FileType python,ruby,html set shiftwidth=2 tabstop=2
